<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="w3.css">
</head>

<center>
    <div class="w3-container">
        <form name="tiketKereta">
            <div class="w3-panel w3-red">
                <h1>Program Penjualan Rumah Perumahan</h1>
            </div>

            <div class="w3-panel w3-cyan">
                <table>
                    <tr>
                        <td>Nama Pembeli</td>
                        <td><input type="text" name="namaPembeli"></td>
                    </tr>
                    <tr>
                        <td>Cluster</td>
                        <td>
                            <select name="cluster">
                                <option value="Mawar">Mawar</option>
                                <option value="Anggrek">Anggrek</option>
                                <option value="Melati">Melati</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Type</td>
                        <td>
                            <select name="type">
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Metode Pembayaran</td>
                        <td>
                            <input type="radio" name="metodePmbyrn" value="Cash">Cash
                            <input type="radio" name="metodePmbyrn" value="Kredit">Kredit
                        </td>
                    </tr>
                </table>
                <hr>
                <table>
                    <tr>
                        <td>
                            Sub Total
                        </td>
                        <td><input type="text" name="fieldSubTotal" readonly></td>
                    </tr>
                    <tr>
                        <td>
                            Diskon
                        </td>
                        <td><input type="text" name="fieldDiskon" readonly></td>
                    </tr>
                    <tr>
                        <td>
                            Total
                        </td>
                        <td><input type="text" name="fieldTotal" readonly></td>
                    </tr>
                    <tr>
                        <td>
                            Bonus
                        </td>
                        <td><input type="text" name="fieldBonus" readonly></td>
                    </tr>
                </table>
            </div>

            <div class="w3-panel w3-blue">
                <p>
                    <input type="button" value="Proses" class="w3-btn w3-red w3-round-xxlarge" onclick="hitung()">
                    <input type="reset" value="Reset" class="w3-btn w3-yellow w3-round-xxlarge">
                </p>
            </div>

        </form>
    </div>
</center>

<script>
    function hitung() {
        let cluster = document.tiketKereta.cluster.value;
        let tipe = document.tiketKereta.type.value;
        let metodePembayaran = document.tiketKereta.metodePmbyrn.value;
        
        let subTotal = 0;
        let diskon = 0;
        let total = 0;
        let bonus = "tidak ada bonus";

        const DataRumah = {
            mawar: {
                a: 200000000,
                b: 250000000,
                c: 300000000,
            },
            anggrek: {
                a: 300000000,
                b: 350000000,
                c: 400000000,
            },
            melati: {
                a: 400000000,
                b: 450000000,
                c: 500000000,
            },
        }

        switch (cluster) {
            case "Mawar":
                if(tipe === 'A'){
                    subTotal += DataRumah.mawar.a
                } else if (tipe === 'B'){
                    subTotal += DataRumah.mawar.b
                } else if (tipe === 'C') {
                    subTotal += DataRumah.mawar.c
                }
                break;
            case "Anggrek":
                if(tipe === 'A'){
                    subTotal += DataRumah.anggrek.a
                } else if (tipe === 'B'){
                    subTotal += DataRumah.anggrek.b
                } else if (tipe === 'C') {
                    subTotal += DataRumah.anggrek.c
                }
                break;
            case "Melati":
                if(tipe === 'A'){
                    subTotal += DataRumah.melati.a
                } else if (tipe === 'B'){
                    subTotal += DataRumah.melati.b
                } else if (tipe === 'C') {
                    subTotal += DataRumah.melati.c
                }
                break;
        }

        switch(metodePembayaran){
            case "Cash":
                diskon = subTotal * 0.1;
                total = subTotal - diskon;
                bonus = "TV 70 Inc"
                break;
            case "Kredit":
                tempNumber = subTotal * 0.2;
                total = subTotal + tempNumber;
        }

        if(total > 500000000){
            bonus = "AC"
        }
        
        document.tiketKereta.fieldSubTotal.value = subTotal;
        document.tiketKereta.fieldDiskon.value = diskon;
        document.tiketKereta.fieldTotal.value = total;
        document.tiketKereta.fieldBonus.value = bonus;


    }
</script>